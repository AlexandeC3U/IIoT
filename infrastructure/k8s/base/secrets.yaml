# NEXUS Edge Platform - Secrets
# IMPORTANT: In production, use external secret management (Vault, AWS Secrets Manager, etc.)
# These are base64 encoded - NOT encrypted!
# kubectl create secret generic nexus-secrets --from-literal=...
apiVersion: v1
kind: Secret
metadata:
  name: nexus-secrets
  namespace: nexus
  labels:
    app.kubernetes.io/name: nexus
    app.kubernetes.io/part-of: nexus-edge
type: Opaque
stringData:
  # MQTT Credentials
  MQTT_USERNAME: "nexus"
  MQTT_PASSWORD: "nexus_dev"
  
  # TimescaleDB Credentials
  TIMESCALEDB_USER: "nexus_ingestion"
  TIMESCALEDB_PASSWORD: "ingestion_password"
  
  # PostgreSQL (config store) Credentials  
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "postgres"

---
# TimescaleDB specific secrets
apiVersion: v1
kind: Secret
metadata:
  name: timescaledb-secrets
  namespace: nexus
  labels:
    app.kubernetes.io/name: timescaledb
    app.kubernetes.io/part-of: nexus-edge
type: Opaque
stringData:
  POSTGRES_USER: "postgres"
  POSTGRES_PASSWORD: "postgres"
  POSTGRES_DB: "nexus_historian"

---
# EMQX specific secrets
apiVersion: v1
kind: Secret
metadata:
  name: emqx-secrets
  namespace: nexus
  labels:
    app.kubernetes.io/name: emqx
    app.kubernetes.io/part-of: nexus-edge
type: Opaque
stringData:
  EMQX_DASHBOARD__DEFAULT_USERNAME: "admin"
  EMQX_DASHBOARD__DEFAULT_PASSWORD: "public"

